= Deb packages for Ubuntu and Debian =
We distribute deb packages with the latest MiG user scripts to make life
easier for users.

The packages should be *locally* built but signed with the official MiG
software signing key from mig@dk.migrid.org:.gnupg/ .
The corresponding passphrase is included in the MiG developers VGrid owners SCM.

It can be achieved by mounting the mig user home on the build host during build:
[prepare ssh login as mig at dk.migrid.org]
mkdir -p  ~/mnt/mig@dk.migrid.org
sshfs mig@dk.migrid.org: ~/mnt/mig@dk.migrid.org  -o uid=$(id -u) -o gid=$(id -g)
[add deb-src http://dk.migrid.org/deb stable main to your APT sources]
sudo apt-get update
mkdir -p  ~/build
cd ~/build
apt-get source mig-user-scripts
cd mig-user-scripts-VERSION
EMAIL="MiG signing key <mig@www.migrid.org>" dch -i
[edit changelog and save - possibly cd to new dir if it mentions rename]
[make your changes]
GNUPGHOME=~/mnt/mig@dk.migrid.org/.gnupg dpkg-buildpackage -rfakeroot
[copy package files to ~/mnt/mig@dk.migrid.org/state/wwwpublic/deb/pool/main/]

Finally login as mig on dk.migrid.org and run the updaterep.sh script from
~mig/state/wwwpublic/deb/ .
